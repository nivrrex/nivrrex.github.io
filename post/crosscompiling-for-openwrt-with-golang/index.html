<!DOCTYPE html>
<html lang="zh-CN">
   <head>
   <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-site-verification" content="XN4YmHgE76jTp2kNQ9qnsVSApl6yIQBzdyLe0BnbFks" />
  <meta name="Description" content="Nivrrex&#39;s blog | This is nivrrex&#39;s home">
  <title>
    
    
    crosscompiling-for-openwrt-with-golang - Nivrrex&#39;s blog
    
  </title>
  <link rel="shortcut icon" href="/favicon.ico" />
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="all">
  <link rel="stylesheet" href="/css/bootstrap-theme.min.css">

<script src="/js/jquery.min.js"></script>
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/highlight/styles/.css">  
  <script src="/highlight/highlight.pack.js" type='text/javascript'></script>
  <script src="/js/bootstrap.min.js"></script>
 <script src="/js/holder.min.js" type='text/javascript'></script>
<script src="https://unpkg.com/ionicons@4.2.2/dist/ionicons.js"></script>
  <script type="text/javascript">
    $(document).ready(function() {
	hljs.initHighlightingOnLoad();
    $('div.src').each(function(i, block) {
	hljs.highlightBlock(block);
    });
});
  </script>


  <link rel="canonical" href="http://nivrrex.github.io/post/crosscompiling-for-openwrt-with-golang/">
  <link href="" rel="alternate" type="application/rss+xml" title="crosscompiling-for-openwrt-with-golang" />
   </head>
   <body data-spy="scroll" data-target="#toc">
     <header class="navbar navbar-default navbar-fixed-top" id="top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://nivrrex.github.io/">Nivrrex&#39;s blog</a>
    </div>

    
    <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
      <ul class="nav navbar-nav">
	
	
	<li  ><a href="/">Home</a></li>
	
	
	
	<li  class="active"  > <a href="http://nivrrex.github.io/post/crosscompiling-for-openwrt-with-golang/" >crosscompiling-for-openwrt-with-golang</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/crosscompiling-for-openwrt-with-nim-%E5%89%AF%E6%9C%AC/" >crosscompiling-for-openwrt-with-nim</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/ubnt-erx-use-openwrt/" >ubnt er-x use openwrt</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/use-cmder/" >use cmder</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/change-hexo-to-hugo/" >change hexo to hugo</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/start-to-use-python/" >start to use python</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/change-editer-with-sublime-text/" >change editer with sublime text</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/update-debian-linux-image-with-backports/" >update debian linux image with backports</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-dnsmasq/" >fanqiang with dnsmasq</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-chinadns/" >fanqiang with chinadns</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-shadowsocks/" >fanqiang with shadowsocks</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/build-openwrt-with-image-builder/" >build openwrt with image builder</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-openwrt&#43;vps/" >fanqiang with openwrt&#43;vps</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-vpn&#43;chnroutes/" >fanqiang with vpn&#43;chnroutes</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/fanqiang-with-goagent/" >fanqiang with goagent</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/some-problems-for-golang-excel-update/" >some problems for golang excel update</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/commonly-used-software/" >commonly used software</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/hello-github/" >Hello GitHub</a></li>
	

	
	
	<li > <a href="http://nivrrex.github.io/post/about-me/" >About this blog</a></li>
	


	
	<li > <a href="/tags/" >Tags</a></li>
      </ul>
    </nav>
</header>

     <div class="jumbotron masthead" role="main">
       <div class="container">
	 <div class="row">

 	   <div class="col-md-8 col-md-offset-2 ">
	   
<div class="panel panel-default">
  <div class="panel-body">
      <article id='post' >
	<div class='title'> crosscompiling-for-openwrt-with-golang </div>
	  
	  <span class="text-muted"><ion-icon name="ios-calendar"></ion-icon>Posted by:&nbsp; <time tile="创建于" itemprop="dateCreated datePublished" datetime="Fri Nov 15, 2019">Fri Nov 15, 2019</time> | 
	  <ion-icon name="ios-podium"></ion-icon>Word Count: 165&nbsp;&nbsp; | 
	  <ion-icon name="ios-time"></ion-icon> Reading Time: 1 Minute&nbsp;&nbsp;</span>

	  

<h3 id="缘来">缘来</h3>

<p>实验了下nim语言(<a href="https://nim-lang.org/">nimlang</a>)在OpenWRT系统下可执行程序的交叉编译，也想实验一下Golang的交叉编译，发现更方便。</p>

<!-- more -->

<hr />

<h3 id="golang支持的交叉编译平台">Golang支持的交叉编译平台</h3>

<pre><code class="language-bash">amd64 (also known as x86-64)
A mature implementation.

386 (x86 or x86-32)
Comparable to the amd64 port.

arm (ARM)
Supports Linux, FreeBSD, NetBSD, OpenBSD and Darwin binaries. Less widely used than the other ports.

arm64 (AArch64)
Supports Linux and Darwin binaries. New in 1.5 and not as well exercised as other ports.

ppc64, ppc64le (64-bit PowerPC big- and little-endian)
Supports Linux binaries. New in 1.5 and not as well exercised as other ports.

mips, mipsle (32-bit MIPS big- and little-endian)
Supports Linux binaries. New in 1.8 and not as well exercised as other ports.

mips64, mips64le (64-bit MIPS big- and little-endian)
Supports Linux binaries. New in 1.6 and not as well exercised as other ports.

s390x (IBM System z)
Supports Linux binaries. New in 1.7 and not as well exercised as other ports.

wasm (WebAssembly)
Targets the WebAssembly platform. New in 1.11 and not as well exercised as other ports.
</code></pre>

<h3 id="golang针对mips系统的交叉编译">Golang针对mips系统的交叉编译</h3>

<pre><code class="language-bash">GOOS=linux GOARCH=mips GOMIPS=softfloat go build test.go
</code></pre>

<p>指定系统、CPU架构，就可以直接交叉编译啦。</p>

<p>mips/mipsle对应的OpenWRT系统，注意加上GOMIPS=softfloat变量，不然可能出现&rdquo;Illegal instruction&rdquo;错误。</p>

<h3 id="结">结</h3>

<p>就这样，更简单的直接生成对应系统和CPU架构下的可执行文件啦~</p>


	  
	  	  <div class="tags">	

	      
	    
<p><ion-icon name="pricetag"></ion-icon>  <a itemprop="keywords"  class="label label-danger" href="/tags/golang">golang</a> <a itemprop="keywords"  class="label label-danger" href="/tags/openwrt">openwrt</a></p>



	    	  </div>
	    
<nav aria-label="...">
  <ul class="pager">
    
    <li class="previous">
      <a href="http://nivrrex.github.io/post/crosscompiling-for-openwrt-with-nim-%E5%89%AF%E6%9C%AC/"><span aria-hidden="true">&larr;</span>crosscompiling-for-openwrt-with-nim</a>
      
    </li>
    	
     
  </ul>
</nav>



     </div>
      </div></article>


	 </div>

	 </div>
       </div>
     </div>

 <div class="container footer">
  <div class="row">
    <div class="col-md-10">
      <small class="text-muted">Copyright right infomation. Theme:<a href="https://hii8.com/">LeonHe</a></small>
    </div>
    <div class="col-md-2">
      <small class="text-muted">Your tips content</small>
      </div>
   </div>
 </div>

   </body>
     </html>
